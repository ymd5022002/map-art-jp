
<!DOCTYPE html
    PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="ja">

<head prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/ fb# website: http://ogp.me/ns/ website#">
    <title>地図アート研究所(テストサイト)</title>
    <meta property="og:url" content="https://ymd5022002.github.io/map-art-jp/" />
    <meta property="og:type" content="website" />
    <meta property="og:title" content="【地図アート研究所】" />
    <meta property="og:description" content="誰でも簡単！微地形が見える虹色の地図が作れます" />
    <meta property="og:site_name" content="干渉色標高地図作成ツール" />
    <meta property="og:image" content="https://ymd5022002.github.io/map-art-jp/img/thumnail02_ogp_fb_mar.jpg" />
    <meta property="og:image" content="https://ymd5022002.github.io/map-art-jp/img/thumnail01_ogp_fb_mar.jpg" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <!--ブラウザのアイコンの設定
    <link rel="shortcut icon" href="/favicon.ico">
    <link rel="apple-touch-icon" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" href="/android-chrome-256x256.png">
    -->
    <meta name="viewport"
        content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no">
    <script>
        /* ピッチインピッチアウトによる拡大縮小を禁止 */
        document.documentElement.addEventListener('touchstart', function (e) {
            if (e.touches.length >= 2) { e.preventDefault(); }
        }, { passive: false });
    </script>
    <link rel="stylesheet" href="./css/style.css">
</head>

<body>
    <header>
            <h1>
                <a href="index.html">地図アート研究所</a>
            </h1>

          
        <nav class="nav">
            <ul>
                <li class="current"><a href="index.html">Home</a></li>
                <li><a href="tools/index.html">Tools</a></li>
                <li><a href="gallery/index.html">Gallery</a></li>
                <li><a href="contact/index.html">Contact</a></li>
                <li><a href="about/index.html">About</a></li>
            </ul>
        </nav>
    </header>

    <main>
        <div class="right-align" >
            <a href="https://ymd5022002.github.io/map-art-jp/tools/archive/index_220111.html" >
                <small><small>旧サイト</small></small></sub>
            </a>
        </div>
        <h2>干渉色標高図 作成ツール</h2>
        <p>
            標高値に応じてシャボン玉の虹色(干渉色)で着色された起伏が見やすい地図を作れます。
            青いボタンを押すと地図が虹色に変わり赤い全画面ボタンで広い地図が開きます。
            小さい数字(色周期)のボタンにすると、ゆるやかな起伏があぶり出されます。
            下のスライダーで数値を変えた後には紫色の描画ボタンを押すと再描画できます。
        </p>
        <div class="changeCycleHeight">
            <span class="cycleHeight_button">
                <img src="img/button25.svg" alt="25" width="40" height="40" onclick="changeCycleHeight(25)" style="border: 2px solid #FCFDFE;"><img
                    src="img/button50.svg" alt="50" width="40" height="40" onclick="changeCycleHeight(50)" style="border: 2px solid #FCFDFE;"><img
                    src="img/button100.svg" alt="100" width="40" height="40" onclick="changeCycleHeight(100)" style="border: 2px solid #FCFDFE;"><img
                    src="img/button200.svg" alt="200" width="40" height="40" onclick="changeCycleHeight(200)" style="border: 2px solid #FCFDFE;"><img
                    src="img/button500.svg" alt="500" width="40" height="40" onclick="changeCycleHeight(500)" style="border: 2px solid #FCFDFE;"><img
                    src="img/button_fullscreen.svg" alt="fullscren" width="60" height="40" onclick="jumpToGSIMap();" style="border: 2px solid #FCFDFE;"
                    id="url">
            </span>
        </div>

        <figure>
            <div class="iframe-window" style="font-size: small;">
                <iframe id="mapFrame1" frameborder="3" scrolling="yes" marginheight="0" marginwidth="100" Width="500" height="500" src="https://ymd5022002.github.io/map-art-jp/gsi/?hc=hc#8/35.715370/139.840268/&base_grayscale=1&ls=slopemap%2C0.37%7Chillshademap%2C0.58%7Crelief_free&blend=11&disp=011&lcd=slopemap&vs=c0j0h0k0l0u0t0z0r0s0m0f1&reliefdata=2-16GCCCCCCG0GCCCCCCGGCCCCCC"></iframe>                <br>
            </div>
            <figcaption style="font-size:small">
                <div>
                    　<img id="colorBar1" src="img/ic-a_ColorBar.svg" alt="ic-a_ColorBar" width="240" height ="30">標高(m)<br>
                </div>
                <div>
                    <div>
                        <span style="position: relative; display: inline-block;">
                            <span id="output_cycleHeight_0th" style="position: absolute; left: calc(19px - 0.7em); top: 50%;"></span>
                            <span id="output_cycleHeight_1st" style="position: absolute; left: calc(136px - 0.7em); top: 50%;"></span>
                            <span id="output_cycleHeight_2nd" style="position: absolute; left: calc(254px - 0.7em); top: 50%;"></span>
                        </span>
                    <div>
                    <br>
                    <font color="#2266AF"><b>色周期</span
                        ><span id="output_cycleHeight">___</span></b></font>
                    <span>高</span><span id="output_maxHeight">___</span>
                    <span>低</span><span id="output_minHeight">____</span>
                    <span>基</span><span id="output_originHeight">_</span>
                    <span>階</span><span id="output_cycleTone">__</span>
                    <span> </span><span id="output_zoomPosition">#8/35.715370/139.840268</span>
                    <span>総</span><span id="output_totalTone2">___</span><br>
                </div>
                <span>干渉色標高図作成ツール:<a href="https://ymd5022002.github.io/map-art-jp/">地図アート研究所</a></span>　
                <span>出典:<a href="https://maps.gsi.go.jp/development/ichiran.html"
                    target="_blank">国土地理院ウェブ</a>　</span><br>       
        </figcaption>

            <hr>
            <div class="changeCycleHeight">
                <span class="cycleHeight_button">
                    <img src="img/button25.svg" alt="25" width="40" height="40" onclick="changeCycleHeight(25)" style="border: 2px solid #FCFDFE;"><img
                        src="img/button50.svg" alt="50" width="40" height="40" onclick="changeCycleHeight(50)" style="border: 2px solid #FCFDFE;"><img
                        src="img/button100.svg" alt="100" width="40" height="40" onclick="changeCycleHeight(100)" style="border: 2px solid #FCFDFE;"><img
                        src="img/button200.svg" alt="200" width="40" height="40" onclick="changeCycleHeight(200)" style="border: 2px solid #FCFDFE;"><img
                        src="img/button500.svg" alt="500" width="40" height="40" onclick="changeCycleHeight(500)" style="border: 2px solid #FCFDFE;"><img
                        src="img/button_fullscreen.svg" alt="fullscren" width="60" height="40" onclick="jumpToGSIMap();" style="border: 2px solid #FCFDFE;" id="url">
                        <br>
                        <img src="img/button_draw.svg" alt="draw" width="60" height="40" onclick="mapDrawing();" style="border: 2px solid #FCFDFE;">
                        <input type="checkbox" id="topoMapCheckbox"><span>地形図</span>
                        <input type="checkbox" id="bColorCheckbox"><span>黒 </span>
                </span>
            </div>

            <label class="accented">
                <span style="font-size:x-small"></span>
                <span>色周期(ｍ)</span
                    ><input id="cycleHeight" value="100" type="text" size="4" onkeyup="this.nextSibling.value = this.value" /><input
                    type="range" id="slider" value="100" min="25" max="2000" step="25"
                    oninput="this.previousSibling.value = this.value"
                    ><span style="font-size:small">配色1周</span>
                <br>
                <span>最高　(ｍ)</span
                    ><input id="maxHeight" value="4000" type="text" size="4" onkeyup="this.nextSibling.value = this.value" /><input
                    type="range" value="4000" min="0" max="9000" step="100" oninput="this.previousSibling.value = this.value" />
                <br>
                <span>最低　(ｍ)</span
                    ><input id="minHeight" value="-50" type="text" size="4" onkeyup="this.nextSibling.value = this.value" /><input
                    type="range" value="-50" min="-500" max="3500" step="5" oninput="this.previousSibling.value = this.value" />
                <br>
                <span>基準高(ｍ)</span
                    ><input id="originHeight" value="0" type="text" size="4" onkeyup="this.nextSibling.value = this.value" /><input
                    type="range" value="0" min="-500" max="3500" step="5" oninput="this.previousSibling.value = this.value" /
                    ><span style="font-size:small">色シフト</span><br>
                <span>階調数　　</span
                    ><input id="cycleTone" value="25" type="text" size="4" onkeyup="this.nextSibling.value = this.value" /><input
                    type="range" value="25" min="0" max="100" step="5" oninput="this.previousSibling.value = this.value" /
                    ><span style="font-size:small">1周期色数</span>
                <br>
                <span>倍率緯度経度<input id="zoomPosition" value="#8/35.715370/139.840268"></span>
                <br>
                <span>└ <input type="button" onclick="zoomPositionPaste();" value="変換貼付"> <input id="mapsURL"
                        placeholder="地理院地図URLを貼付け"><br></span>
            </label>
            <br>

            <br>
            地理院地図のURLが長すぎてSNSで共有が出来ない場合は、下記の方法をお試しください
            <ol>
                <li>地理院地図のURLをコピーして下の窓に貼りつける
                    <form action="https://tinyurl.com/api-create.php?" method="post" target="_blank">
                        <input type="text" name="url" size="20" placeholder="地理院地図URLを貼付け">
                        <input type="submit" name="submit" value="URL短縮">
                        <a href="https://tinyurl.com" target=_blank><small>TinyURL</small></a>
                    </form>
                    <font color="#2266AF"><span><b>総色階調</span><span id="output_totalTone1">1013</span></b></font>
                    <span style="font-size:small">※約1300以上はErrorになります<br>
                    Errorの場合、最高(m)を1/4～1/2に減らして描画し総色階調1300以下でお試しください</span>
                </li>
                <li>「URL短縮」を押して、別窓に表示されるURLをコピーする</li>
                <li>コピーしたURLをSNSの記事に貼付ける</li>
            </ol>


        <h3>くわしい使い方</h3>
        <p>設定値を変更して「描画」ボタンを押すと再描画します。「全画面」ボタンで地理院地図webが開きます。詳細は下記の通りです</p>
        <ul>
            <li>干渉色標高図ではカラースケールとして、シャボン玉に見られるような薄膜光干渉による「1次の白色」から「3次の緑色」までのカラーグラデーションを周期的に繰返して使っています</li>
            <li>色周期：小さくすると細かい凸凹が可視化できます(推奨最小値25)。色周期とは、同じ色が次に現れるまでの標高差のことです。</li>
            <li>倍率緯度経度：拡大縮小移動用。地理院地図のURLのzoom倍率(#XX)と緯度経度を、間の「/」も含めて貼付けると、倍率・緯度・経度を変更できます。全世界対応で、南極まで見れます</li>
            <li>変換貼付：貼付け用便利ツール。地理院地図URLを貼付けた後、このボタンを押すと倍率緯度経度が自動的に貼りつきます</li>
            <li>最高：着色したい最高の標高を入力します。それ以上は同じ色になります</li>
            <li>最低：着色したい最低の標高を入力します。それ以下は同じ色になります</li>
            <li>基準高：色をシフトするのに使います。入力した標高が1次の白色で着色され、着色の基準の標高になります</li>
            <li>階調数：25(推奨値)に固定でほぼOK。25以下にすると「アートな地図」が作れます。この値はカラースケールが一周するまでの色の段階数です。地理院地図の自分で作る色別標高図のグラデーション設定がON(デフォルト)のときは、25以上にしても肉眼で差は分からないと思います
            <li>総色階調：最低標高から最高標高までに使われているの色の段階数。約1300階調までURL短縮可で、約650階調まで地理院地図3Dで描画時にエラーが出ないようです</li>

        </ul>
        <h3>干渉色カラースケール</h3>
        <p>
            <a href="img/color_scale.png"><img src="img/color_scale.png" alt="干渉色カラースケール" width="320" height="180"></a>
            画像クリックで拡大
        </p>
        
        <h3>比較用Googleマップ</h3>(同じ場所の地図を表示しています)
        <div class="iframe-window">
            <iframe id="mapFrame2"
                src="https://www.google.com/maps/embed?pb=!1m10!1m8!1m3!1d1056058.7378106923!2d139.840851!3d35.715298000000004!3m2!1i1024!2i768!4f13.1!5e1!3m2!1sja!2sjp!4v1598550150171!5m2!1sja!2sjp"
                width="500" height="500" frameborder="3" style="border:1;" allowfullscreen="" aria-hidden="false"
                tabindex="0"></iframe>
        </div>
        <br>
        <h3>報告されているバグなど</h3>
        <p style="font-size:small">
        <ul>
            <li>地図内を移動した後に「描画更新」ボタンを押すと、表示場所が動いてしまう仕様になっています</li>
            <li>2つの地図と倍率緯度経度の設定値は連動しない仕様になっています</li>
            <li>いずれも使いづらくて申し訳ござません。改善方法をご存知でしたら教えていただけると嬉しいです ⇒ <a
                    href="https://ymd5022002.github.io/map-art-jp/contact/index.html"
                    target="_blank">こちら</a></li>
            <li>標高設定の正確性は検証できておりません、「地図アート」のツールとしてお使いください</li>
            <li>通信状況などにより動作が重くなる場合がございます、予めご了承ください</li>
            <li>バグなどを発見されましたら、お知らせいただけると幸いです ⇒ <a
                    href="https://ymd5022002.github.io/map-art-jp/contact/index.html"
                    target="_blank">こちら</a></li>
        </ul>
        </p>

        <h3>小数刻みの干渉色標高図用</h3>
        <p>
            ◆「配色ファイル」生成ツール ⇒ <a href="https://ymd5022002.github.io/map-art-jp/tools/colorPallet_grm.xlsx"
            target="_blank">download(Excelファイル)</a><br>
        </p>
        地理院地図の自分で作る色別標高図で干渉色標高図を作るための配色ファイルを生成するためのエクセルのツールです。使い方はエクセルの「使い方」のシートをご覧ください。<br>
    </main>
    <footer>
        <p class="copyright">Copyright &copy; Map Art Labo (地図アート研究所) All Rights Reserved.</p>
        <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.4/css/all.css">
        <div id="page_top"><a href="#"></a></div>
    </footer>
    <script src="./js/main_test.js"></script>
</body>

</html>
